

 


<!doctype html>
<html>
<head>
<meta charset="utf-8">
<!-- <link rel="shortcut icon" href="#"> -->
<link rel="shortcut icon" href="/favicon.ico">
<title>FACT 자동업그레이드 시스템</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<!-- Body -->
<body>  
<div id="wrap">






<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title></title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<link rel="stylesheet" type="text/css" href="/css/front_login.css?dummy=2023-11-17/16:33:34"/>

	<script type="text/javascript" src="/js/jquery.js?dummy=2023-11-17/16:33:34"></script> 
 
	<!-- 플러그인 시작 -->
	<script src="/js/jquery-ui.js?dummy=2023-11-17/16:33:34"></script>
	
	<!-- 멀티 셀렉트 -->
	<script type="text/javascript" src="/js/plugin/virtualselect/tooltip.js?dummy=2023-11-17/16:33:34"></script>
	<script type="text/javascript" src="/js/plugin/virtualselect/virtual-select.js?dummy=2023-11-17/16:33:34"></script>
	<link href="/js/plugin/virtualselect/css/tooltip.min.css" type="text/css" rel="stylesheet">  
	<link href="/js/plugin/virtualselect/css/virtual-select.min.css" type="text/css" rel="stylesheet"> 

	<!-- 다임즈 UI  -->
	<script type="text/javascript" src="/js/dui/jquery.dui.base.js"></script>
	<script type="text/javascript" src="/js/dui/jquery.dui.common.js"></script>
	<script type="text/javascript" src="/js/dui/jquery.dui.paging.js"></script>
	<script type="text/javascript" src="/js/dui/jquery.dui.grid.js"></script>

	<!-- Jquery Popup overlay 모달 팝업 URL : https://dev.vast.com/jquery-popup-overlay/ -->
	<script src="/js/popupOverlay/jquery.popupoverlay.js?dummy=2023-11-17/16:33:34"></script>
	
	<style type="text/css">
		#btn-otp .modal-dialog .modal-body .search-type2 dt div.checkValidMsg{display: inline; height: 12px; font-style:italic;}
		.user-wrap {
			width: 100%;
			margin: 10px auto;
			position: relative;
		}
		.user-wrap img {
			vertical-align: middle;
		}
		.user-text {
			position: absolute;
			top: 50%;
			left: 60%;
			transform: translate( -50%, -50% );
		    font-size: 0.9em;
		    text-align:center;
		}
	</style>
	
 
</head>
<body class="overflow">

	<form name="loginForm" method="POST" onSubmit="return checkLogin(); " action="/login" id="loginForm">
	<div class="login-wrap">
		<div class="visual">
			<h1><img src="img/login/fact/ci_login.svg"></h1>
			<div class="desc">FACT 자동 업그레이드 관리 시스템</div>
		</div>
		<div class="login-box">
			<h2>FTTx Auto-upgrade<br>Configuration Tool</h2>
			<div class="form">
				<input type="text" class="inp-login" name="loginId" id="loginId" placeholder="ID">
				<input type="password" class="inp-login" name="password" placeholder="Password">
<!-- 				<input type="hidden" class="inp-login" name="password" placeholder="ID"> -->
				<button class="btn-login">로그인</button>
			</div>
			<div class="t1">아이디와 비밀번호가 없는 분은 <button type="button" class="blue" id="ADD_ACCOUNT">[아이디신청]</button> 이용해 주세요.</div>
			<div class="t1 mb18">보안을 위해 업무 완료 후에는 반드시 <span class="orange">'로그아웃'</span>을 해주세요!</div>
			<div class="t2">※ SK브로드밴드 기술지원 BP 담당자들만 신청[아이디신청] <br>※ SK브로드밴드 운용자는 FOMS 계정으로 로그인하시기 바랍니다.</div>
			
			<div class="log">
				<h3>접속 현황</h3>
				<div class="box">
					<dl>
						<dt>전체</dt>
						<dd>410087</dd>
					</dl>
					<dl>
						<dt>현재</dt>
						<dd>6</dd>
					</dl>
					<dl>
						<dt>금일</dt>
						<dd>60</dd>
					</dl>
				</div>
			</div>
			<div class="agree">
				<label><input type="checkbox" class="checkbox" name="configPopupCheck"><div><em></em><p>표준 Config 팝업</p></div></label>
			</div>
			
			<div class="copy">Copyright © SK Broadband All Rights Reserved.</div>
		
		</div>
		
		
		
	</div>
	</form>

	<div class="bg-load">
	</div>

	<!-- 등록 및 수정 Modal -->
	<div id="userRegModalDiv" class="modal">
		<div class="modal-dialog" style="max-width: 850px; min-width: 400px;">
			<div class="modal-content" >
				<div class="modal-header">
					<h5 class="h5"><div id="headerTitleAdd"></div></h5>
					<button class="btn-close modelType_close"></button>
				</div>
				<div class="modal-body" style="min-height:200px;">
					<div class="form-table">
						<form method="post" name="addForm" id="addForm">
							<input type="hidden" id="MODE_FLAG" name="MODE_FLAG" value="add" />
							<table>
								<colgroup>
									<col style="width:150px">
									<col style="width:350px">
									<col style="width:350px;">
								</colgroup>
								<tbody>
									<tr>
										<th data-for="ACCOUNT">아이디</th>
										<td colspan="2">
											<div class="user-wrap">
											    <div class="user-image">
											    	<input type="text" class="inp" style="width:150px" name="ACCOUNT" id="ACCOUNT" style="width:150px !important" data-required="required">
													<a href="#" class="btn-type1" id="ACCOUNT_SEARCH">검색</a>
													&nbsp;&nbsp;
											    	<image src="img/login/id_email.png" align="absmiddle" /></image>
											    </div>
											    <div class="user-text">
											        <a href="mailto:fact@skbroadband.com?subject=[FACT]문의사항&body=소속:%0D%0A성명:%0D%0A사번:">fact@skbroadband.com</a>
											    </div>
											</div>
										</td>
									</tr>
									<tr>
										<th rowspan="2" style="vertical-align: middle;">비밀번호 정책</th>
										<td colpan="2">
											<ol style="padding-left: 15px;">
												<li>8글자로 입력해 주십시오.</li>
												<li>영문/숫자/특수문자 조합으로 입력해 주십시오.</li>
												<li>ID와 동일하지 않은 비밀번호를 입력해 주십시오.</li>
												<li>연속되지 않은 숫자로 입력해 주십시오.</li>
												<li>반복되지 않은 숫자나 문자를 입력해 주십시오.</li>
											</ol>
										</td>
									</tr>
									<tr>
										<td>
											<font style="PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; PADDING-TOP: 0px" color="#3399cc">[바른예]</font><br />
											1. a43#02f! (숫자/영문/특수문자 조합)<br />
											2. ID : a14134 / PW :a43#02f!<br />
											3. PW : a43#02f! (연속되지 않은 숫자로 구성)
										</td>
										<td>
											<font style="PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; PADDING-TOP: 0px" color="#ff3300">[잘못된예]</font><br />
											1. 1312 (숫자로만 구성)<br />
											2. ID : a14134 / PW : a14134 (ID랑 동일)<br />
											3. a1234567! (연속된 숫자로 구성)<br />
										</td>
									</tr>
									<tr>
										<th data-for="PASSWORD">비밀번호</th>
										<td colspan="2">
											<input type="password" class="inp" style="width:150px" name="PASSWORD" id="PASSWORD" style="width:150px !important" data-required="required">
										</td>
									</tr>
									<tr>
										<th data-for="PASSWORD_CHECK">비밀번호 확인</th>
										<td colspan="2">
											<input type="password" class="inp" style="width:150px" name="PASSWORD_CHECK" id="PASSWORD_CHECK" style="width:150px !important" data-required="required">
										</td>
									</tr>
									<tr>
										<th data-for="USER_NAME">이름</th>
										<td colspan="2">
											<input type="text" class="inp" style="width:150px" name="USER_NAME" id="USER_NAME" style="width:150px !important" data-required="required">
										</td>
									</tr>
									<tr>
										<th>E-mail주소</th>
										<td colspan="2">
											<input type="text" class="inp" placeholder="입력하세요." style="width:300px !important" name="EMAIL_ADDRESS" id="EMAIL_ADDRESS">
										</td>
									</tr>
									<tr>
										<th data-for="PHONE_NUMBER">핸드폰번호</th>
										<td colspan="2">
											<input type="text" class="inp" placeholder="입력하세요." style="width:150px !important" name="PHONE_NUMBER" id="PHONE_NUMBER" data-required="required">
										</td>
									</tr>
									<tr>
										<th data-for="cbxBpCode">BP명</th>
										<td colspan="2">
											<div id="cbxBpCode" data-inputType="select" name="cbxBpCode" data-type="BP_CODE" data-value="BP_ID" data-text="BP_NAME" multiple="false" data-init-value="" data-search="false" data-checked="false" placeholder="-전체선택-" style="width:150px !important;" data-required="required"></div>
										</td>
									</tr>
									<tr>
										<th data-for="BELONG_TO_TYPE">소속</th>
										<td colspan="2">
											<input type="text" class="inp" name="BELONG_TO_TYPE" id="BELONG_TO_TYPE" style="width:150px !important" data-required="required">
										</td>
									</tr>
									<tr>
										<th data-for="REQ_USR_TYPE">요청권한</th>
										<td>
											<div id="REQ_USR_TYPE" name="REQ_USR_TYPE" data-inputType="select" data-passload="true" data-init-value="1" data-search="false" multiple="false" style="width:150px !important" data-required="required">
												<option value="0">전체관리자</option>   
												<option value="1">지역관리자</option>
												<option value="2">지역운용자</option>
												<option value="9">유지보수사</option>
											</div>
										</td>
										<td>
											<label id="USE_RACT_LB">
												<input type="checkbox" name="USE_RACT_CHECK" id="USE_RACT_CHECK">
												<em></em>
												<span>TACT 사용</span>
											</label>
										</td>
									</tr>
									<tr>
										<th>관리 지역</th>
										<td colspan="2">
											<input type="text" class="inp" name="TBX_POSITION" id="TBX_POSITION" style="width:200px !important" readonly />
											<a href="#" class="btn-type1" id="FACT_SEARCH_BTN" onclick="popupMenuFactSearchForm()">검색</a>
											<input type="hidden" id="Centers" name="Centers" value="" />
											<input type="hidden" id="FOMsCenters" name="FOMsCenters" value="" />
										</td>
									</tr>
									<tr>
										<th>인증수단</th>
										<td colspan="2">
											<label id="PHONE_LB">
												<input type="radio" class="radio" name="CERTIFICATION_TYPE" value="phone" checked>
												<em></em><span>핸드폰</span>
											</label>
											&nbsp;&nbsp;
											<label id="EMAIL_LB">
												<input type="radio" class="radio" name="CERTIFICATION_TYPE" value="email">
												<em></em><span>이메일</span>
											</label>
											<a href="#" class="btn-type1" id="CERTIFICATION_SEND">인증번호 발송</a>
										</td>
									</tr>
									<tr>
										<th data-for="CERTIFICATION_NUM">인증번호</th>
										<td colspan="2">
											<input type="text" class="inp" name="CERTIFICATION_NUM" id="CERTIFICATION_NUM" style="width:150px !important" data-required="required">
											<span id="AuthNum" class="AuthText" style="color: red;" ></span>
										</td>
									</tr>
									<tr>
										<th>비고</th>
										<td colspan="2">
											<textarea name="SYS_COMMENT" style="background-color: #E2E2E2; width: 100%; height: 80px; resize:none;"></textarea>
										</td>
									</tr>
								</tbody>
							</table>
						</form>
					</div>
				</div>
				<div class="modal-foot">
					<button class="btn-type1 btn-l" id="accountBtn">신청</button>
					<button class="btn-type1 btn-l modelType_close">닫기</button>
				</div>
			</div>
		</div>
	</div>
	<!-- E-mail수신 등록 FormTag -->
	<div style="display:none;">
		<form method="post" name="emailRecvForm" id="emailRecvForm">
			<input type="hidden" id="EmailSelect" name="EmailSelect" />
			<input type="hidden" id="UsrID" name="UsrID" />
			<input type="hidden" id="IsAllCenter" name="IsAllCenter" />
			<input type="hidden" id="MgtCenters" name="MgtCenters" />
			<input type="hidden" id="FOMsCenters" name="FOMsCenters" />
			<input type="hidden" id="OrgType" name="OrgType" />
			<input type="hidden" id="Org2Id" name="Org2Id" />
			<input type="hidden" id="pageCheck" name="pageCheck" />
		</form>
	</div>
	
	<!-- otp Modal -->
	

	<!-- pwdchg Modal -->
	
	
<script>

	let certMsgId = '';
	let certType = '';
	$(function(){
		//modal - 닫기
		$(".modelType_close").on("click", function() {
			$("#addForm").initSearchForm();
			$("#userRegModalDiv").popup("hide");
		});

		// 모달
		$("form[name='addForm']").loadComboMultiSelect();
		//모달창 초기화
		$('#userRegModalDiv').setModalPopup({beforeopen : beforeOpen});


		
		
		
	

		$("#ACCOUNT_SEARCH").on('click', function(){
			var data = {};
			var account = $("#ACCOUNT").val();

			if(account == null || account == ''){
				alert("아이디를 입력해주세요.");

				return;
			}
			
		 	if(account.length < 4){
		 		alert("아이디는 4자이상 으로 입력해야 합니다.");
		 		return;
		 	}

			data.userId = account;
			comm.ajaxPost({
				url : "/apply/account/isDuplicated.json",
				data : data,
				fnSuccess : function(data) {
					if(data.flag == 'Y'){
						if(confirm("사용 가능한 아이디 입니다.\n사용하시겠습니까?")){
							$("#ACCOUNT").prop("readonly", true);
							$("#ACCOUNT").css("background", "#eee");
						}
					} else if(data.flag == 'ID'){
						alert("사용 불가능한 아이디 입니다.");
					} else {
						alert("사용중인 아이디 입니다.");
					}
				}
			});
		});
		
		// 회원가입 신청
		$("#accountBtn").on('click', function(){
			var data = $("#addForm").getFormObject();
			
			if($("#addForm").doValidation()){
				comm.ajaxPost({
					url : "/apply/accountApply/save.json",
					data : data,
					fnSuccess : function(data) {
						if(data.RESULT == "Y") {
							alert('회원가입 신청이 완료되었습니다.');
							
							$("#userRegModalDiv").popup("hide");
						}else if(data.RESULT == 'N'){
							if(data.flag == 'USER'){
								alert(data.msg);
								$("#ACCOUNT").prop("readonly", false);
								$("#ACCOUNT").css("background", "");
							} else if(data.flag == 'ID') {
								alert(data.msg);
								$("#ACCOUNT").prop("readonly", false);
								$("#ACCOUNT").css("background", "");
							} else if(data.flag == 'NAME'){
								alert(data.msg);
							} else if(data.flag == 'MOBILE'){
								alert(data.msg);
							} else if(data.flag == 'AUTH'){
								alert(data.msg);
							} else if(data.flag == 'AUTH_CK'){
								alert(data.msg);
							} else if(data.flag == 'PWD'){
								alert(data.msg);
							}
						} else {
							alert("오류가 발생했습니다.");
						}
					}
				});	
			}
		});

		// 회원가입 modal 
		$("#ADD_ACCOUNT").on('click', function(){
			$("#userRegModalDiv").popup("show", {MODE: "mod"});
		});


		$("#REQ_USR_TYPE").on('change', function(){
			var usrType = $("#REQ_USR_TYPE").val();

			if(usrType == '0'){
				$("#TBX_POSITION").val("전체 권한");
			} else {
				$("#TBX_POSITION").val("");
			}

			$("#Centers").val("");
			$("#FOMsCenters").val("");
		});
		
		// 인증번호 전송
		$("#CERTIFICATION_SEND").on('click', function(){
			var data = $("#addForm").getFormObject();
			
			var checkBoxArr = $('input:radio[name=CERTIFICATION_TYPE]');
			for(var j = 0; j < checkBoxArr.length; j++){
				var cbxSel = $(checkBoxArr[j]).is(':checked');
				var cbxVal = $(checkBoxArr[j]).val();
				if(cbxSel){
					data.CERTIFICATION_TYPE = cbxVal;
				}
			}
			
			comm.ajaxPost({
				url : "/apply/account/sendCertification.json",
				data : data,
				fnSuccess : function(data) {
					if(data.flag == 'Y'){
						alert(data.msg);

						AuthInit();
					} else {
						alert(data.msg);
					}
				}
			});
		});
	});

	var beforeOpen = function() {
		var data = this.data('popupoptions').param;
		modDetail(data);
	}

	function AuthInit(){
		var x = setInterval(function () {
			comm.ajaxPost({
				url : "/apply/account/sendCertificationTimeCheck.json",
				isShowLoadingBar : false,
				fnSuccess : function(data) {
					var limitTime = data.limitTime;

					pMin = parseInt(limitTime / 60); // 화면 표시용 분 계산
					pSec = limitTime % 60; // 화면표시용 초 계산
					document.getElementById("AuthNum").innerHTML = "재발송 대기시간 : " + pMin + "분" + pSec + "초";

					if (limitTime == '0') {
						document.getElementById("AuthNum").innerHTML = "";
						clearInterval(x);
						
					}
				}
			});
		}, 1000);		
	}
	
	function modDetail (data){
		$("#headerTitleAdd").text("아이디 신청");
		$("#addForm").initSearchForm();
		$("#addForm").displayRequired();
		$("#btnMod").css("display", "");

		$("#MODE_FLAG").val(data.MODE);
		
		// 폼태그 초기화
		$("#addForm")[0].reset();
		
		$("#ACCOUNT").css("background", "");
		$("#ACCOUNT").prop("readonly", false);

		$("#TBX_POSITION").css("background", "#eee");
	}


	window.onload = function(){
		$('body').addClass('on');
		setTimeout(function(){
			$('.login-wrap i').addClass('ani-on');
		},4000);
	};

	var checkLogin = function() {
		$("input[name=password]").removeClass("danger");
		
		if ($("input[name=loginId]").val() == "") {
			alert("아이디를 입력해주세요");
			return false;
		} 
		
		if ($("input[name=password]").val() == "") {
			alert("비밀번호를 입력해주세요");
			return false;
		} 
		
		var param = $("#loginForm").getFormObject();
		$.ajax({
			url: '/apply/account/setPopupType.json',
			contentType: "application/json; charset=utf-8", 
			type: "POST", 
			dataType: "json",
			data: JSON.stringify(param),
	        success: function(data) {
				if(data) {
					if(data.flag == "Y"){
						//return true;	
					}else{
						//return false;
					}
				}else{
					//return false;
				}
			}
		});
		return true;
	};
	
	
	
	
	
	

	
	function checkEmailValidation(emailVal) {
		let valid1 = regx["email"](emailVal);
		
		if(valid1 != true) {
	    	return false;
	    }
		
	    return true;
	}
	 
	function checkMobileValidation(mobileVal) {
		let valid1 = /^0([0-9]{9,10})$/.test(mobileVal.replace("-",""));
//	 	let valid1 = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/.test(mobileVal);
		
		if(valid1 != true) {
	    	return false;
	    }
		
		return true;
	}
	
	function popupMenuFactSearchForm() {
		var usrType = $("#REQ_USR_TYPE").val();
		if(usrType == '0'){
			alert("전체 Admin은 모든 센터를 관리할 수 있습니다.")
			return;
		}

		var url = "/factCenterSelectPopup.action";

		window.open(url, 'FACT센터지정', 'left=0, top=0, width=800,height=700,scrollbars=yes,resize=yes');
	}
	
	
	
    function loginTimeOut(){
    	// 인증번호 입력시간 타임아웃   서버로 바꿔!
        var authTime = 180;      // 30초 딜레이
        var min = '';          // 화면 표시용 시간(분)
        var sec = '';          // 화면 표시용 시간(초)
        var x = setInterval(function () {
            min = parseInt(authTime / 60); // 화면 표시용 분 계산
            sec = authTime % 60; // 화면표시용 초 계산

            document.getElementById("loginTimeOutTag").innerHTML = "인증 대기시간 : " + min + "분" + sec + "초";
            authTime = authTime - 1;
            if (authTime < 0) {
                clearInterval(x);

                alert("대기시간이 만료되었습니다.\n다시 로그인해 주세요.");
                document.location.reload();
            }
        }, 1000);       
        
    }
    
    function pwdTimeOut(obj){
    	// 인증번호 입력시간 타임아웃   서버로 바꿔!
        var authTime = 180;      // 30초 딜레이
        var min = '';          // 화면 표시용 시간(분)
        var sec = '';          // 화면 표시용 시간(초)
        var x = setInterval(function () {
            min = parseInt(authTime / 60); // 화면 표시용 분 계산
            sec = authTime % 60; // 화면표시용 초 계산

            document.getElementById(obj+"TimeOutTag").innerHTML = "인증 대기시간 : " + min + "분" + sec + "초";
            authTime = authTime - 1;
            if (authTime < 0) {
                clearInterval(x);

                alert("대기시간이 만료되었습니다.\n다시 인증번호를 발송해 주세요.");
            }
        }, 1000);       
        
    }

</script>

	
</body>
	
</html>  
</div>
<!-- // wrap -->
</body> 
<!-- End of Body --> 

</html>